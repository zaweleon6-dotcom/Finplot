<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FinPilot</title>
  <meta name="theme-color" content="#4f46e5" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">FP</div>
      <div class="brand-text">
        <div class="brand-title">FinPilot</div>
        <div class="brand-sub">Bud≈ºet + cele + AI + wakacje w bud≈ºecie</div>
      </div>
    </div>

    <div class="top-actions">
      <div class="pill" id="pillStatus">‚óè Ready</div>
      <button class="ghost2" id="btnExport">Eksport CSV</button>
      <button class="ghost2" id="btnReset">Reset</button>
    </div>
  </header>

  <main class="wrap">

    <div class="tabs">
      <button class="tab active" data-tab="budget">Bud≈ºet</button>
      <button class="tab" data-tab="plans">Plan wydatk√≥w</button>
      <button class="tab" data-tab="ai">AI</button>
    </div>

    <!-- =============== TAB: BUDGET =============== -->
    <section class="tabPage show" id="tab-budget">
      <section class="grid">

        <div class="panel">
          <div class="panel-head">
            <h2>1) Stan konta + szybki wpis</h2>
            <div class="hint">Ustaw stan ‚Üí dodawaj wydatki/przychody</div>
          </div>

          <div class="two">
            <div class="field">
              <label>Stan konta (PLN)</label>
              <input id="balance" class="input" type="number" step="0.01" placeholder="np. 12500" />
              <button id="btnSetBalance" class="btn">Ustaw stan</button>
              <div class="micro" id="balanceHint"></div>
            </div>

            <div class="field">
              <label>Dodaj transakcjƒô</label>
              <div class="row">
                <input id="tAmount" class="input" type="number" step="0.01" placeholder="np. -600 / 4500" />
                <select id="tCategory" class="select">
                  <option>Zakupy</option>
                  <option>Jedzenie</option>
                  <option>Transport</option>
                  <option>Abonamenty</option>
                  <option>Czynsz</option>
                  <option>Rozrywka</option>
                  <option>Zdrowie</option>
                  <option>Podatki</option>
                  <option>Przych√≥d</option>
                  <option>Inne</option>
                </select>
              </div>
              <input id="tDesc" class="input" placeholder="opis np. Lidl / Netflix / Faktura #12" />
              <div class="row">
                <input id="tDate" class="input" type="date" />
                <button id="btnAddTx" class="btn">Dodaj</button>
              </div>
              <div class="status" id="status"></div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-head">
            <h2>2) Podsumowanie miesiƒÖca</h2>
            <div class="hint">Wybierz miesiƒÖc ‚Üí zobacz KPI + tip</div>
          </div>

          <div class="row">
            <select id="monthPick" class="select"></select>
            <button id="btnThisMonth" class="btn btn2">Bie≈ºƒÖcy</button>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="kpi-label">Przychody</div>
              <div class="kpi-value" id="kIncome">0</div>
            </div>
            <div class="kpi">
              <div class="kpi-label">Koszty</div>
              <div class="kpi-value" id="kExpense">0</div>
            </div>
            <div class="kpi">
              <div class="kpi-label">Netto</div>
              <div class="kpi-value" id="kNet">0</div>
            </div>
          </div>

          <div class="mini">
            <div class="mini-title">Szybka wskaz√≥wka</div>
            <div class="mini-text" id="tip">Dodaj transakcje ‚Äî a dostaniesz konkretne wnioski.</div>
          </div>
        </div>

        <div class="panel panel-wide">
          <div class="panel-head">
            <h2>3) Wykresy</h2>
            <div class="hint">Cashflow + wydatki wg kategorii (kolory automatyczne)</div>
          </div>

          <div class="charts">
            <div class="chartCard">
              <div class="chartTitle">Cashflow narastajƒÖco (wybrany miesiƒÖc)</div>
              <canvas id="chartLine"></canvas>
            </div>
            <div class="chartCard">
              <div class="chartTitle">Wydatki wg kategorii (wybrany miesiƒÖc)</div>
              <canvas id="chartPie"></canvas>
            </div>
          </div>
        </div>

        <div class="panel panel-wide">
          <div class="panel-head">
            <h2>4) Transakcje</h2>
            <div class="hint">Usu≈Ñ ‚Üí kosz. Wszystko zapisuje siƒô lokalnie.</div>
          </div>

          <div class="tableWrap">
            <table class="table" id="txTable">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Opis</th>
                  <th>Kategoria</th>
                  <th class="right">Kwota</th>
                  <th class="right">Akcja</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

      </section>
    </section>

    <!-- =============== TAB: PLANS =============== -->
    <section class="tabPage" id="tab-plans">
      <section class="grid">

        <div class="panel panel-wide">
          <div class="panel-head">
            <h2>Plan wydatk√≥w (rezerwy + zachcianki + wyjazdy)</h2>
            <div class="hint">Zaplanuj sta≈Çe koszty i cele ‚Üí wiesz ile ‚Äúzostaje‚Äù</div>
          </div>

          <div class="three">
            <div class="field">
              <label>Miesiƒôczny przych√≥d (plan)</label>
              <input id="planIncome" class="input" type="number" step="0.01" placeholder="np. 9000" />
            </div>
            <div class="field">
              <label>Miesiƒôczne koszty sta≈Çe (plan)</label>
              <input id="planFixed" class="input" type="number" step="0.01" placeholder="np. 3500" />
            </div>
            <div class="field">
              <label>Bud≈ºet zachcianek (plan)</label>
              <input id="planFun" class="input" type="number" step="0.01" placeholder="np. 800" />
            </div>
          </div>

          <div class="three">
            <div class="field">
              <label>Oszczƒôdzanie / inwestycje (plan)</label>
              <input id="planSave" class="input" type="number" step="0.01" placeholder="np. 1200" />
            </div>
            <div class="field">
              <label>Wakacje / wyjazdy (plan)</label>
              <input id="planTrips" class="input" type="number" step="0.01" placeholder="np. 600" />
            </div>
            <div class="field">
              <label>Inne / bufor (plan)</label>
              <input id="planOther" class="input" type="number" step="0.01" placeholder="np. 400" />
            </div>
          </div>

          <div class="row">
            <button id="btnSavePlan" class="btn">Zapisz plan</button>
            <button id="btnUsePlanThisMonth" class="btn btn2">Ustaw plan jako cele na ten miesiƒÖc</button>
            <div class="status" id="planStatus"></div>
          </div>

          <div class="planBox">
            <div>
              <div class="planTitle">Wynik planu</div>
              <div class="planBig" id="planLeft">0 z≈Ç</div>
              <div class="micro">To ‚Äúzostaje‚Äù po sta≈Çych + zachciankach + oszczƒôdzaniu + wyjazdach.</div>
            </div>

            <div class="planBars">
              <div class="barRow"><span>Sta≈Çe</span><div class="bar"><i id="barFixed"></i></div></div>
              <div class="barRow"><span>Zachcianki</span><div class="bar"><i id="barFun"></i></div></div>
              <div class="barRow"><span>Oszczƒôdzanie</span><div class="bar"><i id="barSave"></i></div></div>
              <div class="barRow"><span>Wyjazdy</span><div class="bar"><i id="barTrips"></i></div></div>
              <div class="barRow"><span>Bufor</span><div class="bar"><i id="barOther"></i></div></div>
            </div>
          </div>

        </div>
      </section>
    </section>

    <!-- =============== TAB: AI =============== -->
    <section class="tabPage" id="tab-ai">
      <section class="grid">
        <div class="panel panel-wide">
          <div class="panel-head">
            <h2>AI (doradca finans√≥w + wakacje w bud≈ºecie + linki)</h2>
            <div class="hint">AI odpowiada normalnie, ale bez wulgaryzm√≥w i w kontek≈õcie bud≈ºetu.</div>
          </div>

          <div class="chat-toolbar">
            <label class="label">Tryb</label>
            <select id="mode" class="select">
              <option value="cfo">üíº Finanse / oszczƒôdzanie / rachunki</option>
              <option value="vacation">‚úàÔ∏è Wakacje (kraj/miasto + linki do hoteli/lot√≥w)</option>
              <option value="saver">üß† Oszczƒôdzanie (≈ºyciowe triki wg Twoich wydatk√≥w)</option>
            </select>

            <div class="spacer"></div>
            <button id="btnClearChat" class="ghost2">Wyczy≈õƒá chat</button>
          </div>

          <div id="chat" class="chat"></div>

          <div class="composer">
            <input id="question" class="input" placeholder="Np. Gdzie polecisz za 2500 z≈Ç na 7 dni dla 2 os√≥b? / Jak uciƒÖƒá koszty transportu?" />
            <button id="btnAsk" class="btn">Wy≈õlij</button>
          </div>

          <div class="footnote">
            Linki sƒÖ generowane jako wyszukania (Booking/Google Hotels/Skyscanner) na podstawie Twoich kryteri√≥w ‚Äî ceny na ≈ºywo zale≈ºƒÖ od terminu.
          </div>
        </div>
      </section>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
